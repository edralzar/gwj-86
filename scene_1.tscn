[gd_scene load_steps=17 format=3 uid="uid://cth76k06xt8wj"]

[ext_resource type="Script" uid="uid://bgaody07dvkv8" path="res://node_2d.gd" id="1_1abo5"]
[ext_resource type="Script" uid="uid://dos3qhffr4v0a" path="res://addons/rhythm_notifier/rhythm_notifier.gd" id="2_knagl"]
[ext_resource type="AudioStream" uid="uid://dx4y4o0d0y0ss" path="res://assets/bassline.wav" id="3_t0rxu"]
[ext_resource type="PackedScene" uid="uid://dsed6rjvxprh6" path="res://Player.tscn" id="4_knagl"]
[ext_resource type="PackedScene" uid="uid://b4y00kwaq4bt7" path="res://note_marker.tscn" id="4_t0rxu"]
[ext_resource type="Script" uid="uid://cj6hclpsngu82" path="res://player.gd" id="5_kl852"]
[ext_resource type="PackedScene" uid="uid://ce3rng3nvdp5i" path="res://other.tscn" id="6_4nmru"]
[ext_resource type="Script" uid="uid://dtpmtwvvk0ac7" path="res://addons/SimpleSampler/sample_resource.gd" id="8_mjd5i"]
[ext_resource type="Resource" uid="uid://d085rl7odvhas" path="res://assets/samples/synth/B4.tres" id="9_0qqw6"]
[ext_resource type="FontFile" uid="uid://brbf0em57jfuu" path="res://assets/fonts/Lato,Oswald,Sedgwick_Ave_Display/Oswald/static/Oswald-Bold.ttf" id="11_0qqw6"]
[ext_resource type="Script" uid="uid://bcwt5giabpceq" path="res://addons/SimpleSampler/sampler_instrument_2D.gd" id="11_2fno3"]
[ext_resource type="Theme" uid="uid://bywr0bjm42wjw" path="res://assets/gwj-theme.tres" id="11_jl8ns"]

[sub_resource type="LabelSettings" id="LabelSettings_t0rxu"]
font = ExtResource("11_0qqw6")
font_size = 32
font_color = Color(0.98039216, 0.38039216, 0.28627452, 1)

[sub_resource type="InputEventAction" id="InputEventAction_t0rxu"]
action = &"ui_accept"

[sub_resource type="InputEventAction" id="InputEventAction_jl8ns"]
action = &"ui_select"

[sub_resource type="Shortcut" id="Shortcut_2fno3"]
events = [SubResource("InputEventAction_t0rxu"), SubResource("InputEventAction_jl8ns")]

[node name="Scene1" type="Node2D"]
position = Vector2(98, 72)
script = ExtResource("1_1abo5")

[node name="ColorRect" type="ColorRect" parent="."]
offset_left = -99.0
offset_top = -71.0
offset_right = 1052.0
offset_bottom = 578.0
color = Color(0.15294118, 0.20392157, 0.30588236, 1)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_t0rxu")
volume_db = -8.901

[node name="RhythmNotifier" type="Node" parent="."]
script = ExtResource("2_knagl")
bpm = 140.0
beat_length = 0.42857142857142855
metadata/_custom_type_script = "uid://dos3qhffr4v0a"

[node name="Other" parent="." instance=ExtResource("6_4nmru")]
position = Vector2(742, 352)

[node name="Player" parent="." instance=ExtResource("4_knagl")]
position = Vector2(294, 344)
script = ExtResource("5_kl852")

[node name="PlayingListener2D" type="AudioListener2D" parent="."]
position = Vector2(557, 623)

[node name="ListeningListener2D" type="AudioListener2D" parent="."]
position = Vector2(-257, 629)
current = true

[node name="Sampler2D" type="AudioStreamPlayer2D" parent="."]
position = Vector2(541, 623)
panning_strength = 3.0
script = ExtResource("11_2fno3")
max_notes = 1
samples = Array[ExtResource("8_mjd5i")]([ExtResource("9_0qqw6")])
env_sustain = 0.0
metadata/_custom_type_script = "uid://bcwt5giabpceq"

[node name="Panel" type="ColorRect" parent="."]
offset_left = -83.0
offset_top = -59.0
offset_right = 1037.0
offset_bottom = 153.0
color = Color(0.078431375, 0.13333334, 0.2509804, 1)

[node name="Line2D" type="Line2D" parent="Panel"]
visible = false
position = Vector2(112, 15)
points = PackedVector2Array(38, 106, 917, 106)

[node name="NoteMarker1" parent="Panel/Line2D" instance=ExtResource("4_t0rxu")]
position = Vector2(724, 104)

[node name="NoteMarker2" parent="Panel/Line2D" instance=ExtResource("4_t0rxu")]
position = Vector2(532, 104)

[node name="NoteMarker3" parent="Panel/Line2D" instance=ExtResource("4_t0rxu")]
position = Vector2(340, 104)

[node name="NoteMarker4" parent="Panel/Line2D" instance=ExtResource("4_t0rxu")]
position = Vector2(153, 106)

[node name="ProgressLabel" type="Label" parent="Panel"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -557.0
offset_top = 15.0
offset_right = 559.0
offset_bottom = 145.0
grow_horizontal = 2
text = "Ready ?"
label_settings = SubResource("LabelSettings_t0rxu")
horizontal_alignment = 1
autowrap_mode = 2

[node name="StartButton" type="Button" parent="Panel"]
layout_mode = 0
offset_left = 21.0
offset_top = 159.0
offset_right = 1106.0
offset_bottom = 199.33453
theme = ExtResource("11_jl8ns")
theme_override_colors/font_color = Color(0.98039216, 0.38039216, 0.28627452, 1)
shortcut = SubResource("Shortcut_2fno3")
text = "Press Enter to Start"

[node name="Instructions" type="RichTextLabel" parent="Panel"]
layout_mode = 0
offset_left = 3.0
offset_right = 1121.0
offset_bottom = 183.0
theme = ExtResource("11_jl8ns")
theme_override_colors/default_color = Color(0.98039216, 0.38039216, 0.28627452, 1)
theme_override_font_sizes/normal_font_size = 23
theme_override_font_sizes/bold_font_size = 25
bbcode_enabled = true
text = "The little round guy will play {CHALLENGE} notes. [b]Quick ![/b] You must figure out the code to such conversations!

You will have {ATTEMPTS} attempts to figure out the correct {RESPONSES} notes in response...

Play notes in time, using the keyboard (arrow keys or [b][code]W A S D[/code][/b]) or the gamepad buttons as preferred..."
autowrap_mode = 2
shortcut_keys_enabled = false
horizontal_alignment = 1

[connection signal="pressed" from="Panel/StartButton" to="." method="_start"]
